2025-12-03 11:29:56.607 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 11:29:56.700 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-12-03 11:29:56.718 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-12-03 10:29:56.7071348+00:00');
SELECT changes();
2025-12-03 11:29:56.792 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-12-03 11:29:56.800 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-03 11:29:56.803 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 11:29:56.814 +01:00 [INF] Applying migration '20251203102801_AddCreatedAt'.
2025-12-03 11:29:56.821 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "CreatedAt" TEXT NOT NULL DEFAULT '0001-01-01 00:00:00';
2025-12-03 11:29:56.822 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20251203102801_AddCreatedAt', '9.0.10');
2025-12-03 11:29:56.833 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-12-03 11:29:56.876 +01:00 [INF] User profile is available. Using 'C:\Users\kubal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 11:29:57.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/health - null null
2025-12-03 11:29:57.507 +01:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-12-03 11:29:57.517 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:57.520 +01:00 [INF] Writing value of type '<>f__AnonymousType3`1' as Json.
2025-12-03 11:29:57.529 +01:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-12-03 11:29:57.531 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/health - 200 null application/json; charset=utf-8 152.8501ms
2025-12-03 11:29:57.564 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/tasks - application/json; charset=utf-8 32
2025-12-03 11:29:57.571 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-03 11:29:57.576 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-03 11:29:57.577 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/tasks - 401 null null 13.2314ms
2025-12-03 11:29:57.581 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/hello/Anna - null null
2025-12-03 11:29:57.583 +01:00 [INF] Executing endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:29:57.585 +01:00 [INF] Executed endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:29:57.585 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/hello/Anna - 200 null text/plain; charset=utf-8 3.9037ms
2025-12-03 11:29:57.589 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/hello/Jan - null null
2025-12-03 11:29:57.589 +01:00 [INF] Executing endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:29:57.589 +01:00 [INF] Executed endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:29:57.590 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/hello/Jan - 200 null text/plain; charset=utf-8 1.0997ms
2025-12-03 11:29:57.596 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/users - application/json; charset=utf-8 110
2025-12-03 11:29:57.597 +01:00 [INF] Executing endpoint 'HTTP: POST /users'
2025-12-03 11:29:57.927 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 48), @p2='?', @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "PasswordHash", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:29:57.963 +01:00 [INF] Utworzono nowego użytkownika: user4cc588dfd7ee4cadb672e1d0b668c4da (user4cc588dfd7ee4cadb672e1d0b668c4da@example.com)
2025-12-03 11:29:57.969 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:29:57.970 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:29:57.971 +01:00 [INF] Executed endpoint 'HTTP: POST /users'
2025-12-03 11:29:57.975 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/users - 201 null application/json; charset=utf-8 378.448ms
2025-12-03 11:29:57.976 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users - null null
2025-12-03 11:29:57.976 +01:00 [INF] Executing endpoint 'HTTP: GET /users'
2025-12-03 11:29:58.215 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
2025-12-03 11:29:58.228 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:58.233 +01:00 [INF] Writing value of type 'List`1' as Json.
2025-12-03 11:29:58.234 +01:00 [INF] Executed endpoint 'HTTP: GET /users'
2025-12-03 11:29:58.234 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users - 200 null application/json; charset=utf-8 258.6608ms
2025-12-03 11:29:58.239 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/8 - null null
2025-12-03 11:29:58.239 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:29:58.309 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:29:58.310 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:58.311 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:29:58.311 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:29:58.311 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/8 - 200 null application/json; charset=utf-8 72.6221ms
2025-12-03 11:29:58.313 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost/users/8 - application/json; charset=utf-8 119
2025-12-03 11:29:58.313 +01:00 [INF] Executing endpoint 'HTTP: PUT /users/{id}'
2025-12-03 11:29:58.322 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:29:58.373 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 49), @p1='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Username" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-12-03 11:29:58.382 +01:00 [INF] Zaktualizowano użytkownika ID: 8
2025-12-03 11:29:58.382 +01:00 [INF] Setting HTTP status code 204.
2025-12-03 11:29:58.383 +01:00 [INF] Executed endpoint 'HTTP: PUT /users/{id}'
2025-12-03 11:29:58.383 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost/users/8 - 204 null null 70.3306ms
2025-12-03 11:29:58.384 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/8 - null null
2025-12-03 11:29:58.384 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:29:58.387 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:29:58.388 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:58.388 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:29:58.388 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:29:58.388 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/8 - 200 null application/json; charset=utf-8 4.8156ms
2025-12-03 11:29:58.389 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost/users/8 - null null
2025-12-03 11:29:58.389 +01:00 [INF] Executing endpoint 'HTTP: DELETE /users/{id}'
2025-12-03 11:29:58.416 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-12-03 11:29:58.427 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0
RETURNING 1;
2025-12-03 11:29:58.437 +01:00 [INF] Usunięto użytkownika ID: 8
2025-12-03 11:29:58.437 +01:00 [INF] Setting HTTP status code 204.
2025-12-03 11:29:58.437 +01:00 [INF] Executed endpoint 'HTTP: DELETE /users/{id}'
2025-12-03 11:29:58.438 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost/users/8 - 204 null null 48.7053ms
2025-12-03 11:29:58.438 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/8 - null null
2025-12-03 11:29:58.438 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:29:58.440 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:29:58.440 +01:00 [INF] Setting HTTP status code 404.
2025-12-03 11:29:58.440 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:29:58.440 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/8 - 404 null null 2.5144ms
2025-12-03 11:29:58.448 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 132
2025-12-03 11:29:58.448 +01:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-12-03 11:29:58.476 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_Username_0='?' (Size = 36), @__dto_Email_1='?' (Size = 48)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Username" = @__dto_Username_0 OR "u"."Email" = @__dto_Email_1)
2025-12-03 11:29:58.574 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 48), @p2='?' (Size = 84), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "PasswordHash", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:29:58.583 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:29:58.585 +01:00 [INF] Writing value of type '<>f__AnonymousType0`3' as Json.
2025-12-03 11:29:58.588 +01:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-12-03 11:29:58.588 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 201 null application/json; charset=utf-8 140.4712ms
2025-12-03 11:29:58.594 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 73
2025-12-03 11:29:58.595 +01:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-12-03 11:29:58.609 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_Username_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Username" = @__dto_Username_0
LIMIT 1
2025-12-03 11:29:58.714 +01:00 [INF] Użytkownik zalogowany: task2ced6630a1b0470b95a94c0556c24665
2025-12-03 11:29:58.715 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:58.718 +01:00 [INF] Writing value of type 'AuthResponseDto' as Json.
2025-12-03 11:29:58.719 +01:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-12-03 11:29:58.720 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 125.9442ms
2025-12-03 11:29:58.729 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/tasks - application/json; charset=utf-8 97
2025-12-03 11:29:58.761 +01:00 [INF] Executing endpoint 'HTTP: POST /tasks'
2025-12-03 11:29:58.787 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__dto_UserId_0
LIMIT 1
2025-12-03 11:29:58.836 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (DbType = DateTime), @p2='?' (Size = 9), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tasks" ("Description", "DueDate", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:29:58.847 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:29:58.850 +01:00 [INF] Writing value of type 'UserTask' as Json.
2025-12-03 11:29:58.853 +01:00 [INF] Executed endpoint 'HTTP: POST /tasks'
2025-12-03 11:29:58.853 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/tasks - 201 null application/json; charset=utf-8 124.4314ms
2025-12-03 11:29:58.864 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/9/tasks - null null
2025-12-03 11:29:58.864 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}/tasks'
2025-12-03 11:29:58.879 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."DueDate", "t"."Title", "t"."UserId"
FROM "Tasks" AS "t"
WHERE "t"."UserId" = @__id_0
2025-12-03 11:29:58.880 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:58.880 +01:00 [INF] Writing value of type 'List`1' as Json.
2025-12-03 11:29:58.881 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}/tasks'
2025-12-03 11:29:58.881 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/9/tasks - 200 null application/json; charset=utf-8 17.28ms
2025-12-03 11:29:58.885 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/users - application/json; charset=utf-8 47
2025-12-03 11:29:58.885 +01:00 [INF] Executing endpoint 'HTTP: POST /users'
2025-12-03 11:29:58.886 +01:00 [INF] Setting HTTP status code 400.
2025-12-03 11:29:58.887 +01:00 [INF] Writing value of type 'ListSelectIterator`2' as Json.
2025-12-03 11:29:58.894 +01:00 [INF] Executed endpoint 'HTTP: POST /users'
2025-12-03 11:29:58.894 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/users - 400 null application/json; charset=utf-8 9.2947ms
2025-12-03 11:29:58.899 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/users - application/json; charset=utf-8 111
2025-12-03 11:29:58.899 +01:00 [INF] Executing endpoint 'HTTP: POST /users'
2025-12-03 11:29:58.903 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 47), @p2='?', @p3='?' (Size = 38)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "PasswordHash", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:29:58.911 +01:00 [INF] Utworzono nowego użytkownika: report838e27abde66426087148ef45f252526 (report838e27abde66426087148ef45f252526@test.com)
2025-12-03 11:29:58.912 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:29:58.912 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:29:58.913 +01:00 [INF] Executed endpoint 'HTTP: POST /users'
2025-12-03 11:29:58.913 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/users - 201 null application/json; charset=utf-8 14.6297ms
2025-12-03 11:29:58.915 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/reports/new-users?from=2025-12-03T10:28:58.9144486Z&to=2025-12-03T10:30:58.9144762Z - null null
2025-12-03 11:29:58.916 +01:00 [INF] Executing endpoint 'HTTP: GET /reports/new-users'
2025-12-03 11:29:58.946 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__from_Value_0='?' (DbType = DateTime), @__to_Value_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."CreatedAt" >= @__from_Value_0 AND "u"."CreatedAt" <= @__to_Value_1
2025-12-03 11:29:58.946 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:29:58.947 +01:00 [INF] Writing value of type 'List`1' as Json.
2025-12-03 11:29:58.947 +01:00 [INF] Executed endpoint 'HTTP: GET /reports/new-users'
2025-12-03 11:29:58.947 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/reports/new-users?from=2025-12-03T10:28:58.9144486Z&to=2025-12-03T10:30:58.9144762Z - 200 null application/json; charset=utf-8 32.3666ms
2025-12-03 11:31:39.959 +01:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-03 11:31:40.027 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsLock' AND "type" = 'table';
2025-12-03 11:31:40.077 +01:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT OR IGNORE INTO "__EFMigrationsLock"("Id", "Timestamp") VALUES(1, '2025-12-03 10:31:40.0339389+00:00');
SELECT changes();
2025-12-03 11:31:40.144 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-12-03 11:31:40.152 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-12-03 11:31:40.155 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-12-03 11:31:40.162 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-12-03 11:31:40.170 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "__EFMigrationsLock";
2025-12-03 11:31:40.199 +01:00 [INF] User profile is available. Using 'C:\Users\kubal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-12-03 11:31:40.331 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/health - null null
2025-12-03 11:31:40.405 +01:00 [INF] Executing endpoint 'HTTP: GET /health'
2025-12-03 11:31:40.409 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:40.411 +01:00 [INF] Writing value of type '<>f__AnonymousType3`1' as Json.
2025-12-03 11:31:40.420 +01:00 [INF] Executed endpoint 'HTTP: GET /health'
2025-12-03 11:31:40.422 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/health - 200 null application/json; charset=utf-8 93.8546ms
2025-12-03 11:31:40.450 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/tasks - application/json; charset=utf-8 32
2025-12-03 11:31:40.456 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-12-03 11:31:40.460 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-12-03 11:31:40.461 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/tasks - 401 null null 11.3832ms
2025-12-03 11:31:40.466 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/hello/Anna - null null
2025-12-03 11:31:40.467 +01:00 [INF] Executing endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:31:40.469 +01:00 [INF] Executed endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:31:40.469 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/hello/Anna - 200 null text/plain; charset=utf-8 3.7141ms
2025-12-03 11:31:40.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/hello/Jan - null null
2025-12-03 11:31:40.473 +01:00 [INF] Executing endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:31:40.473 +01:00 [INF] Executed endpoint 'HTTP: GET /hello/{name}'
2025-12-03 11:31:40.474 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/hello/Jan - 200 null text/plain; charset=utf-8 1.0971ms
2025-12-03 11:31:40.482 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/users - application/json; charset=utf-8 110
2025-12-03 11:31:40.482 +01:00 [INF] Executing endpoint 'HTTP: POST /users'
2025-12-03 11:31:40.766 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 48), @p2='?', @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "PasswordHash", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:31:40.800 +01:00 [INF] Utworzono nowego użytkownika: user2fb6d4eb7b2c4d009806ba202b95b10b (user2fb6d4eb7b2c4d009806ba202b95b10b@example.com)
2025-12-03 11:31:40.805 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:31:40.806 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:31:40.807 +01:00 [INF] Executed endpoint 'HTTP: POST /users'
2025-12-03 11:31:40.810 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users - null null
2025-12-03 11:31:40.810 +01:00 [INF] Executing endpoint 'HTTP: GET /users'
2025-12-03 11:31:40.811 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/users - 201 null application/json; charset=utf-8 329.2967ms
2025-12-03 11:31:41.056 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
2025-12-03 11:31:41.066 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:41.071 +01:00 [INF] Writing value of type 'List`1' as Json.
2025-12-03 11:31:41.073 +01:00 [INF] Executed endpoint 'HTTP: GET /users'
2025-12-03 11:31:41.073 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users - 200 null application/json; charset=utf-8 263.3134ms
2025-12-03 11:31:41.077 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/11 - null null
2025-12-03 11:31:41.077 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:31:41.139 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:31:41.140 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:41.140 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:31:41.140 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:31:41.140 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/11 - 200 null application/json; charset=utf-8 63.2165ms
2025-12-03 11:31:41.142 +01:00 [INF] Request starting HTTP/1.1 PUT http://localhost/users/11 - application/json; charset=utf-8 119
2025-12-03 11:31:41.142 +01:00 [INF] Executing endpoint 'HTTP: PUT /users/{id}'
2025-12-03 11:31:41.150 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:31:41.166 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 49), @p1='?' (Size = 44)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Username" = @p1
WHERE "Id" = @p2
RETURNING 1;
2025-12-03 11:31:41.173 +01:00 [INF] Zaktualizowano użytkownika ID: 11
2025-12-03 11:31:41.174 +01:00 [INF] Setting HTTP status code 204.
2025-12-03 11:31:41.174 +01:00 [INF] Executed endpoint 'HTTP: PUT /users/{id}'
2025-12-03 11:31:41.174 +01:00 [INF] Request finished HTTP/1.1 PUT http://localhost/users/11 - 204 null null 32.4844ms
2025-12-03 11:31:41.174 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/11 - null null
2025-12-03 11:31:41.175 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:31:41.179 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:31:41.180 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:41.180 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:31:41.180 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:31:41.180 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/11 - 200 null application/json; charset=utf-8 5.6239ms
2025-12-03 11:31:41.180 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost/users/11 - null null
2025-12-03 11:31:41.181 +01:00 [INF] Executing endpoint 'HTTP: DELETE /users/{id}'
2025-12-03 11:31:41.199 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__p_0
LIMIT 1
2025-12-03 11:31:41.207 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0
RETURNING 1;
2025-12-03 11:31:41.216 +01:00 [INF] Usunięto użytkownika ID: 11
2025-12-03 11:31:41.216 +01:00 [INF] Setting HTTP status code 204.
2025-12-03 11:31:41.216 +01:00 [INF] Executed endpoint 'HTTP: DELETE /users/{id}'
2025-12-03 11:31:41.217 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost/users/11 - 204 null null 36.2186ms
2025-12-03 11:31:41.217 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/11 - null null
2025-12-03 11:31:41.217 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:31:41.219 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__id_0
LIMIT 1
2025-12-03 11:31:41.219 +01:00 [INF] Setting HTTP status code 404.
2025-12-03 11:31:41.219 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}'
2025-12-03 11:31:41.220 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/11 - 404 null null 2.6814ms
2025-12-03 11:31:41.225 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/auth/register - application/json; charset=utf-8 132
2025-12-03 11:31:41.226 +01:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-12-03 11:31:41.244 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_Username_0='?' (Size = 36), @__dto_Email_1='?' (Size = 48)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Users" AS "u"
    WHERE "u"."Username" = @__dto_Username_0 OR "u"."Email" = @__dto_Email_1)
2025-12-03 11:31:41.324 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 48), @p2='?' (Size = 84), @p3='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "PasswordHash", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:31:41.332 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:31:41.334 +01:00 [INF] Writing value of type '<>f__AnonymousType0`3' as Json.
2025-12-03 11:31:41.336 +01:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-12-03 11:31:41.337 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/auth/register - 201 null application/json; charset=utf-8 111.498ms
2025-12-03 11:31:41.341 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/auth/login - application/json; charset=utf-8 73
2025-12-03 11:31:41.342 +01:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-12-03 11:31:41.350 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_Username_0='?' (Size = 36)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Username" = @__dto_Username_0
LIMIT 1
2025-12-03 11:31:41.462 +01:00 [INF] Użytkownik zalogowany: task5cac7732822a41d5adedc0eac31a48d7
2025-12-03 11:31:41.462 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:41.468 +01:00 [INF] Writing value of type 'AuthResponseDto' as Json.
2025-12-03 11:31:41.471 +01:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-12-03 11:31:41.471 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/auth/login - 200 null application/json; charset=utf-8 129.7984ms
2025-12-03 11:31:41.479 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/tasks - application/json; charset=utf-8 98
2025-12-03 11:31:41.510 +01:00 [INF] Executing endpoint 'HTTP: POST /tasks'
2025-12-03 11:31:41.519 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__dto_UserId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."Id" = @__dto_UserId_0
LIMIT 1
2025-12-03 11:31:41.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 7), @p1='?' (DbType = DateTime), @p2='?' (Size = 9), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tasks" ("Description", "DueDate", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:31:41.572 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:31:41.573 +01:00 [INF] Writing value of type 'UserTask' as Json.
2025-12-03 11:31:41.576 +01:00 [INF] Executed endpoint 'HTTP: POST /tasks'
2025-12-03 11:31:41.576 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/tasks - 201 null application/json; charset=utf-8 96.6479ms
2025-12-03 11:31:41.583 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/users/12/tasks - null null
2025-12-03 11:31:41.583 +01:00 [INF] Executing endpoint 'HTTP: GET /users/{id}/tasks'
2025-12-03 11:31:41.597 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."DueDate", "t"."Title", "t"."UserId"
FROM "Tasks" AS "t"
WHERE "t"."UserId" = @__id_0
2025-12-03 11:31:41.597 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:41.598 +01:00 [INF] Writing value of type 'List`1' as Json.
2025-12-03 11:31:41.598 +01:00 [INF] Executed endpoint 'HTTP: GET /users/{id}/tasks'
2025-12-03 11:31:41.599 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/users/12/tasks - 200 null application/json; charset=utf-8 16.0504ms
2025-12-03 11:31:41.604 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/users - application/json; charset=utf-8 47
2025-12-03 11:31:41.605 +01:00 [INF] Executing endpoint 'HTTP: POST /users'
2025-12-03 11:31:41.608 +01:00 [INF] Setting HTTP status code 400.
2025-12-03 11:31:41.608 +01:00 [INF] Writing value of type 'ListSelectIterator`2' as Json.
2025-12-03 11:31:41.618 +01:00 [INF] Executed endpoint 'HTTP: POST /users'
2025-12-03 11:31:41.618 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/users - 400 null application/json; charset=utf-8 13.9539ms
2025-12-03 11:31:41.623 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/users - application/json; charset=utf-8 111
2025-12-03 11:31:41.624 +01:00 [INF] Executing endpoint 'HTTP: POST /users'
2025-12-03 11:31:41.628 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 47), @p2='?', @p3='?' (Size = 38)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("CreatedAt", "Email", "PasswordHash", "Username")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-12-03 11:31:41.636 +01:00 [INF] Utworzono nowego użytkownika: reportc1e69979269148dba7292e67de9c2bfd (reportc1e69979269148dba7292e67de9c2bfd@test.com)
2025-12-03 11:31:41.636 +01:00 [INF] Setting HTTP status code 201.
2025-12-03 11:31:41.636 +01:00 [INF] Writing value of type 'UserDto' as Json.
2025-12-03 11:31:41.643 +01:00 [INF] Executed endpoint 'HTTP: POST /users'
2025-12-03 11:31:41.643 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/users - 201 null application/json; charset=utf-8 19.913ms
2025-12-03 11:31:41.648 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/reports/new-users?from=2025-12-03T10:30:41.6480172Z&to=2025-12-03T10:32:41.6480531Z - null null
2025-12-03 11:31:41.650 +01:00 [INF] Executing endpoint 'HTTP: GET /reports/new-users'
2025-12-03 11:31:41.664 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__from_Value_0='?' (DbType = DateTime), @__to_Value_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT "u"."Id", "u"."CreatedAt", "u"."Email", "u"."PasswordHash", "u"."Username"
FROM "Users" AS "u"
WHERE "u"."CreatedAt" >= @__from_Value_0 AND "u"."CreatedAt" <= @__to_Value_1
2025-12-03 11:31:41.665 +01:00 [INF] Setting HTTP status code 200.
2025-12-03 11:31:41.665 +01:00 [INF] Writing value of type 'List`1' as Json.
2025-12-03 11:31:41.665 +01:00 [INF] Executed endpoint 'HTTP: GET /reports/new-users'
2025-12-03 11:31:41.665 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/reports/new-users?from=2025-12-03T10:30:41.6480172Z&to=2025-12-03T10:32:41.6480531Z - 200 null application/json; charset=utf-8 16.6926ms
